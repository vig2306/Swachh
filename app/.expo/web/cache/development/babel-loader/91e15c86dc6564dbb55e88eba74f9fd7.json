{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/vignesh/Desktop/Swachh/app/screens/entryRecord.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Colors from \"../constants/colors\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport * as Font from \"expo-font\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport EntryCard from \"../components/entryRecordCard\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Constants from \"../constants/text\";\n\nvar fetchFonts = function fetchFonts() {\n  console.log(\"loading font\");\n  return Font.loadAsync({\n    \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n    \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n    \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n    \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\")\n  });\n};\n\nexport default function EntryRecords(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataLoaded = _useState4[0],\n      setDataLoaded = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      historyData = _useState6[0],\n      setHistoryData = _useState6[1];\n\n  var request_history = function request_history() {\n    var response;\n    return _regeneratorRuntime.async(function request_history$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userData\"));\n\n          case 3:\n            response = _context2.sent;\n            response = JSON.parse(response);\n            axios.get(Constants.ApiLink + \"/api/history/\" + response.data.user_email).then(function _callee(response) {\n              var jsonValue;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      try {\n                        jsonValue = response.data.data;\n                        console.log(jsonValue);\n                        setHistoryData(jsonValue);\n                        setDataLoaded(true);\n                        console.log(\"data: \" + jsonValue);\n                      } catch (e) {\n                        console.log(\"Got error while storing data to async\" + e);\n                      }\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }).catch(function (error) {\n              console.log(\"ERROR ON HOME\", error);\n            }).finally(function () {});\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.warn(_context2.t0);\n\n          case 11:\n            _context2.prev = 11;\n            setDataLoaded(true);\n            return _context2.finish(11);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8, 11, 14]], Promise);\n  };\n\n  var radio_props = [{\n    label: 'High ',\n    value: 0\n  }, {\n    label: 'Medium ',\n    value: 1\n  }, {\n    label: 'Low ',\n    value: 2\n  }];\n\n  var init = function init() {\n    return _regeneratorRuntime.async(function init$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(fetchFonts());\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.warn(_context3.t0);\n\n          case 8:\n            _context3.prev = 8;\n            setDataLoaded(true);\n            return _context3.finish(8);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5, 8, 11]], Promise);\n  };\n\n  useEffect(function () {\n    init();\n    request_history();\n  }, []);\n\n  if (!dataLoaded) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Loading....\"));\n  } else {\n    return React.createElement(View, {\n      style: {\n        paddingHorizontal: wp(\"4%\"),\n        backgroundColor: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: {\n        paddingBottom: \"7%\",\n        paddingTop: \"4%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        position: \"absolute\",\n        top: hp(\"2%\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, React.createElement(MaterialIcons, {\n      name: \"keyboard-backspace\",\n      size: 24,\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    })), React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexGrow: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontFamily: \"Quicksand-Bold\",\n        fontSize: 20,\n        color: \"black\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Your reports\"))), React.createElement(FlatList, {\n      style: {\n        marginBottom: hp(\"10%\")\n      },\n      numColumns: 1,\n      data: historyData,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return React.createElement(EntryCard, {\n          props: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 47\n          }\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }));\n  }\n}\nvar styles = StyleSheet.create({\n  row: {\n    flex: 1,\n    justifyContent: \"space-around\"\n  }\n});","map":{"version":3,"sources":["/Users/vignesh/Desktop/Swachh/app/screens/entryRecord.js"],"names":["React","useState","useEffect","Colors","Font","Entypo","MaterialIcons","Localization","i18n","widthPercentageToDP","wp","heightPercentageToDP","hp","EntryCard","axios","AsyncStorage","Constants","fetchFonts","console","log","loadAsync","require","EntryRecords","navigation","userData","setUserData","dataLoaded","setDataLoaded","historyData","setHistoryData","request_history","getItem","response","JSON","parse","get","ApiLink","data","user_email","then","jsonValue","e","catch","error","finally","warn","radio_props","label","value","init","paddingHorizontal","backgroundColor","paddingBottom","paddingTop","position","top","alignItems","flexGrow","fontFamily","fontSize","color","textAlign","marginBottom","item","id","styles","StyleSheet","create","row","flex","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Colors from '../constants/colors';\nimport { StyleSheet, SafeAreaView, ScrollView, TouchableOpacity, TextInput, Text, View, Modal, Linking, Platform, Image, Alert, FlatList } from 'react-native';\nimport * as Font from \"expo-font\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport EntryCard from '../components/entryRecordCard';\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Constants from '../constants/text'\n\nconst fetchFonts = () => {\n    console.log(\"loading font\");\n    return Font.loadAsync({\n        \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n        \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n        \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n        \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\"),\n    });\n};\n\nexport default function EntryRecords({ navigation }) {\n\n    const [userData, setUserData] = useState({});\n    const [dataLoaded, setDataLoaded] = useState(false);\n    const [historyData, setHistoryData] = useState({});\n\n    const request_history = async () => {\n        try {\n\n            let response = await AsyncStorage.getItem(\"userData\")\n            response = JSON.parse(response);\n\n            axios\n                .get(`${Constants.ApiLink}/api/history/${response.data.user_email}`)\n                .then(async function (response) {\n                    // handle success\n\n                    try {\n                        const jsonValue = response.data.data\n                        console.log(jsonValue)\n                        setHistoryData(jsonValue)\n                        setDataLoaded(true);\n                        console.log(\"data: \" + jsonValue);\n                    } catch (e) {\n                        // saving error\n                        console.log(\"Got error while storing data to async\" + e);\n                    }\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(\"ERROR ON HOME\", error);\n                })\n                .finally(function () {\n                    // always executed\n                });\n            // await fetchFonts();\n        } catch (e) {\n            console.warn(e);\n        } finally {\n            setDataLoaded(true);\n            // Hiding the SplashScreen\n\n        }\n    }\n\n    var radio_props = [\n        { label: 'High ', value: 0 },\n        { label: 'Medium ', value: 1 },\n        { label: 'Low ', value: 2 }\n    ];\n\n\n\n    const init = async () => {\n        try {\n            // Keep on showing the SlashScreen\n\n\n            await fetchFonts();\n        } catch (e) {\n            console.warn(e);\n        } finally {\n            setDataLoaded(true);\n            // Hiding the SplashScreen\n\n        }\n    }\n\n    useEffect(() => {\n        init();\n        request_history();\n    }, []);\n\n\n    if (!dataLoaded) {\n        return (\n            <View>\n                <Text>Loading....</Text>\n            </View>\n        );\n    } else {\n        return (\n            <View style={{ paddingHorizontal: wp(\"4%\"), backgroundColor: \"white\" }}>\n                <View style={{ paddingBottom: \"7%\", paddingTop: \"4%\" }}>\n                    <TouchableOpacity style={{ position: \"absolute\", top: hp(\"2%\") }}>\n                        <MaterialIcons name=\"keyboard-backspace\" size={24} color=\"black\" />\n                    </TouchableOpacity>\n                    <View style={{ alignItems: \"center\", flexGrow: 1 }}>\n                        <Text style={{ fontFamily: \"Quicksand-Bold\", fontSize: 20, color: \"black\", textAlign: \"center\" }} >Your reports</Text>\n                    </View>\n                    \n                </View>\n                <FlatList\n                    style={{ marginBottom: hp(\"10%\") }}\n                    numColumns={1}                  // set number of columns \n\n                    data={historyData}\n                    renderItem={({ item }) => <EntryCard props={item} />}\n                    keyExtractor={item => item.id}\n                />\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    row: {\n        flex: 1,\n        justifyContent: \"space-around\",\n    }\n});"]},"metadata":{},"sourceType":"module"}